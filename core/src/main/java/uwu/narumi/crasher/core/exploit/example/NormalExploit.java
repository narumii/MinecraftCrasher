package uwu.narumi.crasher.core.exploit.example;

import uwu.narumi.crasher.api.exception.ExploitException;
import uwu.narumi.crasher.api.exploit.Exploit;
import uwu.narumi.crasher.api.exploit.ExploitInfo;
import uwu.narumi.crasher.api.exploit.argument.Argument;
import uwu.narumi.crasher.api.optimizer.Optimizer;

@ExploitInfo(
    name = "Example",
    description = "Example",
    usage = "exploit example <amount>"
)
public class NormalExploit extends Exploit {

  public NormalExploit() {
    super(new Argument("amount", 0, Integer.class));
  }

  @Override
  public void execute(Object... args) throws ExploitException {
    int amount = (int) args[0];
    Optimizer.startOptimizing(TimedExploit.class);
    Optimizer.post(() -> {
      //YOUR STUFF
      Optimizer.update();
    }, amount);
  }
}