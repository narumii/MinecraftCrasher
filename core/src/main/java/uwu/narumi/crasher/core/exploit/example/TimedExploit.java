package uwu.narumi.crasher.core.exploit.example;

import uwu.narumi.crasher.api.exception.ExploitException;
import uwu.narumi.crasher.api.exploit.Exploit;
import uwu.narumi.crasher.api.exploit.ExploitInfo;
import uwu.narumi.crasher.api.exploit.argument.Argument;
import uwu.narumi.crasher.api.optimizer.Optimizer;

@ExploitInfo(
    name = "Example",
    description = "Example",
    usage = "exploit example <time>"
)
public class TimedExploit extends Exploit {

  public TimedExploit() {
    super(new Argument("time", 0, Long.class));
  }

  @Override
  public void execute(Object... args) throws ExploitException {
    long time = (long) args[0];
    Optimizer.startOptimizing(TimedExploit.class);
    Optimizer.postFor(() -> {
      //YOUR STUFF
      Optimizer.update();
    }, time);
  }
}
